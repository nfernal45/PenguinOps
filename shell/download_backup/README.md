```
⠀⠀⠀⠁⡄
⠀⠀⠀⡇⡇⠀ ⠀⠀⡇
⠀⠀⠀⡆⡇⠀ ⠀⠀⡇⡄
⠀⠀⠀⠁⡇⠇⠀⡂⡇⡇
⠀⠀⠀⡇⣇⠃⠀⣇⣁⡇
⠀⠀⠀⣧⣿⣷ ⣾⣿⡷
⠀⠀⠀⠘⣿⣿ ⣿⡏
⠀⠀⠀⠀⢸⣿ ⣿⡇⠀⣀
⠀⠀⠀⠀⣸⣿ ⣿⡷⠛⣿
⠀⢀⠀⠀⣿⣿⡿⣷⣶⣿⣤⡴⠞⢿
⠀⢸⠀⠀⣿⣿⣿⠰⢹⡿⢿⣿⣤⠟
⠀⠘⢸⠀⣿⣿⣿⣏⣽⣄⣃⣿⡇
⠀⢸⢨⢠⣼⣿⣿⣿⣿⣿⣿⡟
⠀⠘⣠⡌⢿⣿⣿⣿⣿⣿⣄⠀
⠀⢸⣿⡿⢸⣿⣿⣿⣿⣿⣿⣧
⠀⠀⣿⡇⠀⣿⣿⣿⣿⣿⣿⣿⣧
⠀⠀⣿⣧⣶⣿⣿⣿⣿⣿⣿⣿⣿
⠀⠀⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⠏
⠀⠀⠀⠻⠿⠟⠛⠻⠿⣿⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⡇⠀⠀⠀⠀⠈⣿⡄
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⣿⣄⠀⠀⠀⢀⣿⠇
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⢷⣶⣶⠿⠋
```

## Download backup

Реализован для решения задачи ["тут была ссылка")
Скрипт, скачивающий архивы с целевого сервера для дальнейшего хранения. 

# Description

* Автоматическая установка
* В директории ***scripts*** расположен скрипт реализующий создание бэкапа файлов/директорий
* В директории ***systemctl*** находятся файлы, необходимые для работы скрипта в качестве сервиса и его автоматического запуска через systemd.
* После создания нового бэкапа скрипт автоматически удаляет старый, который был создан N дней назад.

Для унификации скриптов бэкапов я использую единый шаблон названия директорий хранения бэкапов ***backupName-$(date +"%Y-%m-%d")***.


# Installation

1. Клонируем проект
2. В файле ***./systemctl/temp.timer*** в строке ***OnCalendar*** устанавливаем нужное время срабатывания скрипта.
3. В файле ./install.sh по желанию меняем следующие переменные:
    * ***SCRIPT_NAME*** - Имя скрипта
4. В файле ./temp.sh по желанию меняем название скрипта в переменной ***SCRIPT_NAME***
    * ***IP_ADDRESS*** - IP-адрес целевого сервера.
    * ***SSH_LOGIN*** - имя пользователя для SSH-соединения
    * ***REMOTE_SOURCE_DIR*** - имя директории на сервере, откуда копируются бэкапы.
    * ***CURRENT_DATE*** - дата в формате "гггг-мм-дд".
    * ***BACKUP_DEST*** - путь до директории для хранения бэкапов.
    * ***ARCHIVE_NAME*** - Имя целевой директории.
5. Запускаем скрипт установки ***install.sh***
6. Если скрипт ввыполнился без ошибок, проверяем состояние сервисов:
    * ***systemctl status ***SCRIPT_NAME.service*** - должна быть строка ***TriggeredBy: ● ***SCRIPT_NAME.timer***
    * ***systemctl status ***SCRIPT_NAME.timer*** - должна быть строка ***Active: active (waiting)***. Также проверяем время, через которое таймер должен сработать.

## ToDo

- [ ] Передача пути директории хранения в качестве аргумента
- [ ] Добавление функции полного удаления скрипта.